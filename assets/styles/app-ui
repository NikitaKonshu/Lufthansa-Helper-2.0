/* assets/styles/app-ui.css
   Общая тема приложения: карточки, кнопки, панели, мобильная адаптация
   Все правила ограничены namespace .app-ui где это возможно
*/

/* ================ переменные ================ */
:root{
  --ui-bg: #0b0c0f;
  --ui-surface: rgba(255,255,255,0.02);
  --ui-border: rgba(255,255,255,0.03);
  --ui-muted: #98a0a6;
  --gold-1: #f6d16a;
  --gold-2: #d9a017;
  --gold-3: #a56905;
  --radius-lg: 12px;
  --radius-md: 8px;
  --shadow-1: 0 6px 18px rgba(0,0,0,0.45);
  --shadow-2: 0 18px 46px rgba(0,0,0,0.56);
  --ease-smooth: cubic-bezier(.2,.9,.3,1);
}

/* ================ global app container ================ */
.app-ui {
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: #eaeef2;
  background: var(--ui-bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  box-sizing: border-box;
}

/* utility to scope resets */
.app-ui * { box-sizing: inherit; }

/* ================ layout helpers ================ */
.app-ui .card-grid { display: grid; grid-template-columns: repeat(auto-fill,minmax(260px,1fr)); gap:12px; }
.app-ui .panel { background: var(--ui-surface); border:1px solid var(--ui-border); border-radius: var(--radius-md); padding:12px; box-shadow: var(--shadow-1); }

/* ================ card component ================ */
.app-ui .card {
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.05));
  border: 1px solid var(--ui-border);
  border-radius: var(--radius-lg);
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:8px;
  transition: transform .22s var(--ease-smooth), box-shadow .22s ease;
  box-shadow: var(--shadow-1);
  position: relative;
  overflow: visible;
}

.app-ui .card:hover, .app-ui .card:focus-within { transform: translateY(-6px); box-shadow: var(--shadow-2); }

.app-ui .card .card-top { display:flex; gap:10px; align-items:center; }
.app-ui .card .card-logo { width:36px; height:36px; flex:0 0 36px; border-radius:8px; background: rgba(255,255,255,0.02); display:flex; align-items:center; justify-content:center; overflow:hidden; }
.app-ui .card .card-logo img{ width:28px; height:28px; object-fit:contain; display:block; }

.app-ui .card .card-title { font-weight:800; font-size:14px; color:#fff; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; flex:1 1 auto; }
.app-ui .card .card-meta { font-size:12px; color:var(--ui-muted); flex:0 0 auto; white-space:nowrap; }

/* description */
.app-ui .card .card-desc { font-size:12px; color:var(--ui-muted); line-height:1.25; max-height:3.6em; overflow:hidden; }

/* actions */
.app-ui .card .card-actions { display:flex; gap:8px; align-items:center; justify-content:flex-end; flex-wrap:wrap; }

/* ================ buttons ================ */
.app-ui .btn { border: none; cursor:pointer; border-radius:10px; font-weight:800; display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 14px; transition: transform .22s var(--ease-smooth), box-shadow .22s ease, filter .18s ease; position:relative; overflow:hidden; white-space:nowrap; -webkit-tap-highlight-color: transparent; }

.app-ui .btn:focus { outline: 2px solid rgba(255,255,255,0.04); outline-offset:2px; }

/* primary gold */
.app-ui .btn-primary {
  color:#0b0b0b;
  background: linear-gradient(180deg, var(--gold-1), var(--gold-2));
  box-shadow: 0 8px 28px rgba(165,102,10,0.14), inset 0 1px 0 rgba(255,255,255,0.32);
  min-width:120px;
}

/* hover/active desktop */
.app-ui .btn-primary:hover { transform: translateY(-2px); filter: saturate(1.04); box-shadow: 0 14px 38px rgba(165,102,10,0.20); }
.app-ui .btn-primary:active { transform: translateY(0); box-shadow: 0 6px 12px rgba(0,0,0,0.38); }

/* secondary */
.app-ui .btn-secondary { background: rgba(255,255,255,0.03); color:var(--ui-muted); border:1px solid rgba(255,255,255,0.02); padding:8px 12px; }

/* selected */
.app-ui .btn.selected { outline:2px solid rgba(213,165,40,0.12); box-shadow: 0 18px 42px rgba(165,102,10,0.22); }

/* ripple placeholder */
.app-ui .btn .ui-ripple { position:absolute; width:40px; height:40px; border-radius:50%; background: rgba(255,255,255,0.28); transform:scale(0); opacity:0; pointer-events:none; transition: transform .36s cubic-bezier(.2,.8,0,.9), opacity .36s ease; left:0; top:0; }

/* animate ripple */
.app-ui .btn.ripple-animate .ui-ripple { transform: scale(3); opacity:0.18; }

/* ================ specific modules ================ */
/* fleet-specific */
.app-ui .fleet-card { composes: card; } /* semantic alias - won't work in plain CSS processors but keeps intent */
.app-ui .fleet-card { padding:12px; min-width:0; }

.app-ui .route-card { composes: card; }
.app-ui .panel-compact { padding:10px; }

/* ================ responsive: phones only ================ */
@media (max-width: 920px) {
  .app-ui .card-grid { grid-template-columns: 1fr; }
  .app-ui .card { padding:12px; border-radius:10px; min-height:86px; }
  .app-ui .card .card-top { gap:8px; }
  .app-ui .btn-primary { min-width:44%; padding:9px 10px; font-size:13px; border-radius:9px; }
}

/* very narrow */
@media (max-width:420px){
  .app-ui .btn-primary { min-width:48%; padding:8px 10px; font-size:12px; }
  .app-ui .card .card-title { font-size:13px; }
}

/* ================ safety overrides to avoid conflicts ================ */
/* neutralize old inline transforms on buttons inside our namespace */
.app-ui .btn[style*="transform"], .app-ui .btn[style*="translate"] { transform:none !important; }
.app-ui .btn[style*="padding"], .app-ui .btn[style*="width"] { box-sizing:border-box !important; }

/* accessibility */
.app-ui .visually-hidden { position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); }
/* ======= FIX: вернуть видимые золотые кнопки ======= */
/* Скопируй и вставь в конец <style> или в app-ui.css */

/* Scoped: кнопки внутри app-ui (предпочтительно) */
.app-ui .btn {
  border: none;
  color: #06141e;
  background: linear-gradient(180deg, #f6d16a, #d9a017);
  box-shadow: 0 8px 28px rgba(165,102,10,0.16), inset 0 1px 0 rgba(255,255,255,0.32);
  padding: 10px 14px;
  border-radius: 10px;
  font-weight: 800;
  min-width: 120px;
  transition: transform .22s cubic-bezier(.2,.9,.3,1), box-shadow .22s ease, filter .18s ease;
}

/* Hover / active (desktop) */
.app-ui .btn:hover { transform: translateY(-2px); filter: saturate(1.04); box-shadow: 0 14px 38px rgba(165,102,10,0.22); }
.app-ui .btn:active { transform: translateY(0); box-shadow: 0 6px 12px rgba(0,0,0,0.38); }

/* Secondary variant (neutral) */
.app-ui .btn-secondary {
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.02));
  color: var(--muted);
  border: 1px solid rgba(255,255,255,0.03);
  padding: 8px 12px;
}

/* Ensure mobile sizing (keeps two buttons per row) */
@media (max-width: 920px) {
  .app-ui .btn { min-width: 44% !important; padding: 9px 10px !important; }
  .app-ui .btn-secondary { min-width: 44% !important; }
}

/* Fallback for areas not wrapped in .app-ui (safe, low specificity) */
.btn.btn-primary {
  color: #06141e;
  background: linear-gradient(180deg, #f6d16a, #d9a017);
  box-shadow: 0 8px 22px rgba(165,102,10,0.12);
}

/* Make sure neutralizers don't hide color inside .app-ui */
.app-ui [style*="transform"] { transform: none !important; } /* keep existing safety */

